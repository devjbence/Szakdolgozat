<app-navbar></app-navbar>

<button [routerLink]="'/product/0'" class="btn btn-primary">new product</button>
<!--
<ul>
  <li *ngFor="let product of products">
    <a [routerLink]="'/product/'+product.id">{{product.name}}</a>
  </li>
</ul>
-->



<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-content bg padding-y-sm">
  <div class="container">

    <div class="card">
      <div class="card-body" style="max-height:100%;">
        <form [formGroup]="searchForm" (ngSubmit)="onSubmit()">
          <div class="form-group input-group">
            <label>Search by name</label>
            <input class="form-control" placeholder="Product name" formControlName="productName">
          </div>
          <hr>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label>Categories</label>
                <select id="categories" style="max-height:100%;" name="categories" multiple class="form-control"
                  formControlName="categories">
                  <option *ngFor="let category of categories" [value]="category.value">
                    {{category.viewValue}}
                  </option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label>Type</label>
                <select id="type" name="type" style="max-height:100%;" class="form-control" formControlName="type"
                  [(ngModel)]="type">
                  <option *ngFor="let type of types" [value]="type.value">
                    {{type.viewValue}}
                  </option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group input-group" *ngIf="searchForm.controls['type'].value == 0">
                <label>Price</label>
                <input class="form-control" placeholder="Price" formControlName="price" type="number">
              </div>
            </div>
          </div>
          <hr>
          <label>
            Special search with attributes
          </label>
          <div class="row">
              <div class="col-md-3">
                <div class="form-group input-group">
                    <div class="form-group">
                        <label>Attribute name</label>
                        <select id="attrName" name="attrName" style="max-height:100%;" class="form-control" formControlName="attrName"
                          [(ngModel)]="attrName">
                          <option *ngFor="let attrName of attrNames" [value]="attrName.value">
                            {{attrName.viewValue}}
                          </option>
                        </select>
                      </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group input-group">
                    <div class="form-group">
                        <label>Operation</label>
                        <select id="operation" name="operation" style="max-height:100%;" class="form-control" formControlName="operation"
                          [(ngModel)]="operation">
                          <option *ngFor="let operation of operations" [value]="operation.value">
                            {{operation.viewValue}}
                          </option>
                        </select>
                      </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group input-group">
                    <input class="form-control" placeholder="Attribute value" formControlName="attrValue">
                </div>
              </div>
              <div class="col-md-2">
                  <button type="button" class="btn btn-primary">+</button>
                 <button type="button" style="margin-left:5px !important;" class="btn red btn-danger">-</button>
                </div>
          </div>
        </form>
      </div> <!-- card-body .// -->
    </div> <!-- card.// -->
    <div class="row-sm">
      <div class="col-md-3 col-sm-6" *ngFor="let product of products">
        <figure class="card card-product">
          <div class="img-wrap"> <img style="max-width:100%;max-height:100%;"
              src="http://localhost:8080/image/{{product.images[0]}}"></div>
          <figcaption class="info-wrap">
            <a class="title" [routerLink]="'/product/'+product.id">{{product.name}}</a>
            <div class="price-wrap">
              <span class="price-new" *ngIf="product.price;else biddingTemplate">{{product.price | currency:" "}}
                Ft</span>
              <ng-template #biddingTemplate>
                <span class="price-new">Bidding</span>
              </ng-template>
            </div> <!-- price-wrap.// -->
          </figcaption>
        </figure> <!-- card // -->
      </div> <!-- col // -->
    </div> <!-- row.// -->


  </div><!-- container // -->
</section>
<!-- ========================= SECTION CONTENT .END// ========================= -->